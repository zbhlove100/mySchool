(function(a,b){function Q(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent(a,b.bubbles||!1,b.cancelable||!0,b.view||document.defaultView.window,b.detail||1,b.screenX||b.changedTouches[0].screenX,b.screenY||b.changedTouches[0].screenY,b.clientX||b.changedTouches[0].clientX,b.clientY||b.changedTouches[0].clientY,!1,!1,!1,!1,b.button||0,b.relatedTarget||b.target),b.target.dispatchEvent(c)}function O(b){b=a(b);var c=b[0].style[F],d=c?c.match(t)||c.match(u)||[0,0,0,0,0]:[0,0,0,0,0];d&&(d[2]=="Y"?(d[4]=d[3],d[3]=0):d[2]=="X"&&(d[4]=0));return e.transitions?{x:+d[3],y:+d[4]}:{x:parseInt(b.css("marginLeft"),10)||0,y:parseInt(b.css("marginTop"),10)||0}}function N(a,b,c,d,e,f,g,h,i,j,k){var l=0,m="",n=0,o={},p,s=j==z;l=-M(b-c,d,e),n=L(-l,f,g,k),p=q(~~(h*i-r(n)),20),m=(s?"":"0, ")+M(-l*i+n,0,h-p)+(s?"px, 0":v),o[E]=H+m+G,o[j]=p+v,a.css(o);return l}function M(a,b,c){return q(b,p(c,a))}function L(a,b,c,d){return M((a>c?a-c:0)||(a<b?a:0),-d,d)}var c=window.kendo,d=c.ui,e=c.support,f=a.extend,g=a.browser,h=a.proxy,i=d.Component,j=["showArrow"],k=e.touch||e.pointers,l=e.hasHW3D,m=e.transitions.css,n=e.transitions.prefix,o=c.touchLocation,p=Math.min,q=Math.max,r=Math.abs,s=Math.round,t=/(translate[3d]*\(|matrix\(([\s\w\d]*,){4,4})\s*(-?[\d\.]+)?[\w\s]*,?\s*(-?[\d\.]+)[\w\s]*.*?\)/i,u=/(translate([XY])\(\s*(-?[\d\.]+)?[\w\s]*\))/i,v="px",w="show",x="hide",y="click",z="width",A="opacity",B="visible",C="left-scroll-arrow",D="right-scroll-arrow",E=m+"transform",F=n+"Transform",G=l?", 0)":")",H="translate"+(l?"3d(":"("),I=k?"touchstart":"mousedown",J=k?"touchmove":"mousemove",K=k?"touchend":"mouseup",P=i.extend({init:function(b,c){var d=this;if(c&&c!==!1&&c.useOnDesktop===!1)return!1;i.fn.init.call(d,b,c),c=d.options,d.bind(j,c),d.xScrollbar=a('<div class="touch-scrollbar horizontal-scrollbar" />'),d.yScrollbar=d.xScrollbar.clone().removeClass("horizontal-scrollbar").addClass("vertical-scrollbar"),d._scrollbars=a().add(d.xScrollbar).add(d.yScrollbar);if(c.showArrows){d._scrollArrows={};var e=d._scrollArrows.left=a('<a class="scroll-arrow left-scroll-arrow" href="#" />');f(d._scrollArrows,{right:e.clone().removeClass(C).addClass(D),top:e.clone().removeClass(C).addClass("top-scroll-arrow"),bottom:e.clone().removeClass(C).addClass("bottom-scroll-arrow")});var g=d._scrollArrows;d._horizontalArrows=a().add(g.left).add(g.right),d._verticalArrows=a().add(g.top).add(g.bottom),d._allArrows=a().add(d._horizontalArrows).add(d._verticalArrows),d._allArrows.click(h(d._scrollClick,d))}f(d,{_waitProxy:h(d._wait,d),_startProxy:h(d._start,d),_stopProxy:h(d._stop,d),_dragProxy:h(d._drag,d),_gestureStartProxy:h(d._onGestureStart,d),_gestureEndProxy:h(d._onGestureEnd,d),_stepScrollProxy:h(d._stepScrollAnimation,d),_stepKinetikProxy:h(d._stepKinetikAnimation,d)}),d._create()},options:{acceleration:10,velocity:.5,pagingVelocity:5,friction:.98,bounceAcceleration:.1,bounceDeceleration:.1,bounceLimit:0,bounceStop:100,framerate:30,zoomFactor:1,useOnDesktop:!0,showArrows:!0,scrollbarOpacity:.7,scrollArrowsOpacity:.84},_create:function(){var b=this,c=b.element,d=a('<div class="k-scroll-container"/>'),e=c.children(":not(script)");c.css("overflow","hidden"),e.length?e.wrapAll(d):c.append(d),b.scrollElement=c.children(":not(script)"),b._scrollbars.appendTo(c),b.options.showArrows&&b._horizontalArrows.appendTo(c),b._moveEvent=J,b._startEvent=I,b._endEvent=K,k?(c.bind("gesturestart",b._gestureStartProxy).bind("gestureend",b._gestureEndProxy).bind(b._startEvent,b._waitProxy),g.mozilla&&c.bind("mousedown",!1)):b.options.showArrows&&(c.bind("mouseenter",function(){b._showScrollArrows()}),c.bind("mouseleave",function(){b._hideScrollArrows()})),b._storeLastLocation=function(a){var c=b.lastLocation,d=c.x-a.x,e=c.y-a.y,f={x:d/r(d)||0,y:e/r(e)||0},g=b.direction;g?(f.x&&g.x!=f.x&&(b.direction.x=f.x,b.directionChange=+(new Date),b.lastLocation=a),f.y&&g.y!=f.y&&(b.direction.y=f.y,b.directionChange=+(new Date),b.lastLocation=a)):(b.direction=f,b.directionChange=+(new Date),b.lastLocation=a)},b._applyCSS=function(a){var c=0,d=0,e=b.start,f=b.minBounceStop,g=b.maxBounceStop,h=b.minBounceLimit,i=b.maxBounceLimit,j=b.options.zoomFactor,k=b.options.bounceStop;b.hasHorizontalScroll&&(c=N(b.xScrollbar,e.x,a.x,f.x,g.x,h.x,i.x,b.boxWidth,b.xRatio,z,k)/j),b.hasVerticalScroll&&(d=N(b.yScrollbar,e.y,a.y,f.y,g.y,h.y,i.y,b.boxHeight,b.yRatio,"height",k)/j),b.scrollElement.stop(!0,!0)[0].style[F]=H+c+"px,"+d+v+G,b.scrollOffsets={x:c,y:d}}},_onGestureStart:function(){this._dragCanceled=!0},_onGestureEnd:function(){this._dragCanceled=!1},_scrollClick:function(b){b.preventDefault();var c=this,d=0,e=c.element,f=c.scrollElement,g=O(f);a(b.target).hasClass(C)&&(d=p(0,g.x+e.innerWidth())),a(b.target).hasClass(D)&&(d=q(-f.innerWidth()+e.innerWidth(),g.x-e.innerWidth())),f.kendoStop().kendoAnimate({effects:{simple:{properties:{translateX:d+v}}},duration:500})},_animateArrows:function(b,c){var d=this;b.each(function(b){var e=a(this),g={effects:{fadeIn:{properties:{opacity:d.options.scrollArrowsOpacity}}},duration:"fast",show:!0,complete:function(){d.trigger(c+"Arrow",e)}},h={};c==x&&(h={effects:"fadeOut"}),e.kendoStop(!0).kendoAnimate(f(g,h))})},_toggleScrollArrows:function(a){var b=this;b.hasVerticalScroll&&b._animateArrows(b._verticalArrows,a),b.hasHorizontalScroll&&b._animateArrows(b._horizontalArrows,a)},_showScrollArrows:function(){var a=this;a._initializeBoxModel(),a._allArrows.hide(),this._toggleScrollArrows(w)},_hideScrollArrows:function(){this._toggleScrollArrows(x)},_wait:function(b){arguments[1]&&"changedTouches"in arguments[1]&&(b=arguments[1]),b.preventDefault();var c=this;c._dragged=!1,clearTimeout(c.timeoutId),c._originalEvent=b.originalEvent||b;var d=o(b),f=O(c.scrollElement);c.start={idx:d.idx,x:d.x-f.x,y:d.y-f.y},c.lastLocation=d,c.direction={x:1,y:1},c.directionChange=+(new Date),a(document).unbind(c._moveEvent,c._startProxy).bind(c._moveEvent,c._startProxy),g.mozilla||e.pointers?c.element.unbind(c._endEvent,c._stopProxy).bind(c._endEvent,c._stopProxy):(document.removeEventListener(c._endEvent,c._stopProxy,!0),document.addEventListener(c._endEvent,c._stopProxy,!0))},_initializeBoxModel:function(){var a=this,b=a.element,c=a.scrollElement,d=a.options;f(a,{boxWidth:b.innerWidth(),boxHeight:b.innerHeight(),scrollWidth:c.innerWidth(),scrollHeight:c.innerHeight()});var e={x:-a.boxWidth*d.bounceLimit,y:-a.boxHeight*d.bounceLimit},g={x:-d.bounceStop,y:-d.bounceStop},h=a.scrollWidth,i=a.scrollHeight,j=a.boxWidth,k=a.boxHeight;f(a,{hasHorizontalScroll:h>j,hasVerticalScroll:i>k,xRatio:j/h,yRatio:k/i,minBounceLimit:e,maxBounceLimit:{x:h-j-e.x,y:i-k-e.y},minBounceStop:g,maxBounceStop:{x:h-j-g.x,y:i-k-g.y}})},_start:function(b){arguments[1]&&"changedTouches"in arguments[1]&&(b=arguments[1]);var c=this,d=c.options;if(!c._dragCanceled){var f=10*e.devicePixelRatio,g=o(b),h=c.lastLocation;if(g.idx!=c.start.idx)return;if(r(h.x-g.x)>f||r(h.y-g.y)>f){b.preventDefault(),b.stopPropagation(),c._dragged=!0,c._initializeBoxModel();var i=c._moveEvent,j=d.scrollbarOpacity;c.hasHorizontalScroll&&c.xScrollbar.css({width:~~(c.boxWidth*c.xRatio),opacity:j,visibility:B}),c.hasVerticalScroll&&c.yScrollbar.css({height:~~(c.boxHeight*c.yRatio),opacity:j,visibility:B}),a(document).unbind(i,c._startProxy).unbind(i,c._dragProxy).bind(i,c._dragProxy)}}},_drag:function(a){arguments[1]&&"changedTouches"in arguments[1]&&(a=arguments[1]);var b=this;if(!b._dragCanceled){a.preventDefault(),a.stopPropagation();var c=o(a);if(c.idx!=b.start.idx)return;b._applyCSS(c),b._storeLastLocation(c)}},_click:function(a){arguments[1]&&"changedTouches"in arguments[1]&&(a=arguments[1]);var b=this;a.stopPropagation(),a.preventDefault(),b.target.unbind(y,b.original._click)},_stop:function(b){arguments[1]&&"changedTouches"in arguments[1]&&(b=arguments[1]);var c=this;if(!c._dragCanceled){b.preventDefault(),b.stopPropagation(),g.mozilla?c.element.unbind(c._endEvent,c._stopProxy):document.removeEventListener(c._endEvent,c._stopProxy,!0),a(document).unbind(c._moveEvent,c._startProxy).unbind(c._moveEvent,c._dragProxy);var d=c._originalEvent,e=a(d.target),f=null;c._dragged?(c._dragged=!1,c._initKinetikAnimation(b)):(f=h(c._click,{original:c,target:e}),k&&d.touches.length==1&&(e.unbind(y,f),e.trigger(K),Q(y,d),e.bind(y,f)))}},_hideScrollHints:function(){var a=this;a.hasHorizontalScroll&&a.xScrollbar.css(A,0),a.hasVerticalScroll&&a.yScrollbar.css(A,0)},_initKinetikAnimation:function(a){arguments[1]&&"changedTouches"in arguments[1]&&(a=arguments[1]);var b=this,c=b.lastLocation,d=b.bounceLocation=o(a),e=(+(new Date)-b.directionChange)/b.options.acceleration,f=d.x-c.x,g=d.y-c.y;b._startKinetikAnimation(f,g,e)},_startKinetikAnimation:function(a,b,c){var d=this,e=d.decelerationVelocity={x:a/c,y:b/c},f=d.options,g=f.velocity,h=f.friction;d.framerate=1e3/f.framerate,d.friction={x:h,y:h},d.winding=!1,d.scrollOffsets=O(d.scrollElement);if(r(e.x)>g||r(e.y)>g)d.winding=!0,d.lastCall=+(new Date),clearTimeout(d.timeoutId),d.timeoutId=setTimeout(d._stepKinetikProxy,d.framerate)},_singleStep:function(){var a=this,b=a.options,c=a.friction,d=b.velocity,e=a.scrollOffsets,f=a.minBounceLimit,g=a.maxBounceLimit,h=a.bounceLocation,i=a.decelerationVelocity;a._decelerate("x",e.x,f.x,g.x,h.x,i.x,c.x),a._decelerate("y",e.y,f.y,g.y,h.y,i.y,c.y);if(r(i.x)<=d&&r(i.y)<=d){a.winding=!1,a._endKinetikAnimation();return!0}return!1},_scrollIntoView:function(a){},_scrollTo:function(a,b,c){var d=this;d.start||d._initializeBoxModel(),d.framerate=1e3/d.options.framerate,d.start={x:0,y:0},d.source=d.bounceLocation=d.bounceLocation||O(d.scrollElement),d.lastCall=d.source.time=+(new Date),c?(clearTimeout(d.timeoutId),d.destination={x:-a,y:-b,duration:c},d.timeoutId=setTimeout(d._stepScrollProxy,d.framerate)):d._applyCSS({x:-a,y:-b})},_stepScrollAnimation:function(){var a=this,b=+(new Date),c=a.source,d=a.framerate,e=a.destination,f=e.duration,g=-(-c.x-e.x),h=-(-c.y-e.y),i=b-c.time,j=f/i,k=Math.ceil((b-a.lastCall)/d-1);while(k-->=0)a.bounceLocation={x:g/j,y:h/j};a._applyCSS(a.bounceLocation),i<f&&(a.timeoutId=setTimeout(a._stepScrollProxy,d),a.lastCall=b)},_scrollBy:function(a,b,c){var d=this,e;d.bounceLocation||d._initializeBoxModel(),d.start={x:0,y:0},e=d.bounceLocation=O(d.scrollElement),c?d._startKinetikAnimation(e.x-a,e.y-b,c/d.options.acceleration):d._applyCSS({x:e.x-a,y:e.y-b})},_decelerate:function(a,b,c,d,e,f,g){var h=this,i=0,j=h.options,k=j.bounceStop;e+=f,f*=g,-b<c?i=c+b:-b>d&&(i=d+b);if(i){var l=0;g-=M((k-r(i))/k,.04,.9),l=i*j.bounceDeceleration,f-=l}h.bounceLocation[a]=e,h.decelerationVelocity[a]=f,h.friction[a]=M(g,0,.99)},_stepKinetikAnimation:function(){var a=this;if(!!a.winding){var b=+(new Date),c=a.framerate,d=b-a.lastCall,e=s(d/c-1);while(e-->=0)if(a._singleStep())return;a._applyCSS(a.bounceLocation),a.timeoutId=setTimeout(a._stepKinetikProxy,c),a.lastCall=b}},_endKinetikAnimation:function(){var a=this;a.winding=!1,clearTimeout(a.timeoutId),a._hideScrollHints()}});c.ui.plugin("Scroller",P,i)})(jQuery)