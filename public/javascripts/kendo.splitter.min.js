(function(a,b){function A(a){var b=this;b.owner=a,b._element=b.owner.element,b.orientation=b.owner.orientation,e(b,b.orientation===n?z:y),b._resizable=new c.ui.Resizable(a.element,{orientation:b.orientation,handle:b.orientation==n?".k-splitbar-draggable-horizontal":".k-splitbar-draggable-vertical",hint:f(b._createHint,b),start:f(b._start,b),max:f(b._max,b),min:f(b._min,b),invalidClass:"k-restricted-size-"+b.orientation,resizeend:f(b._stop,b)})}function w(b,c){return function(d,e){var f=a(d).data(r);if(arguments.length==1)return f[b];f[b]=e;if(c){var g=this.element.data("kendoSplitter");g.trigger(m)}}}function v(a){return!t(a)&&!u(a)}function u(a){return h.test(a)}function t(a){return i.test(a)}var c=window.kendo,d=c.ui,e=a.extend,f=a.proxy,g=d.Component,h=/^\d+px$/i,i=/^\d+(\.\d+)?%$/i,j="expand",k="collapse",l="contentLoad",m="resize",n="horizontal",o="vertical",p="mouseenter",q="click",r="pane",s="mouseleave",x=g.extend({init:function(b,c){var d=this,e,h,i=".k-splitbar .k-icon:not(.k-resize-handle)",r=function(){d.trigger(m)};g.fn.init.call(d,b,c),d.orientation=d.options.orientation.toLowerCase()!=o?n:o,h=".k-splitbar-draggable-"+d.orientation,d.bind([j,k,l,m],d.options),d.bind(m,f(d._resize,d)),d._initPanes(),d.element.delegate(h,p,function(){a(this).addClass("k-splitbar-"+d.orientation+"-hover")}).delegate(h,s,function(){a(this).removeClass("k-splitbar-"+d.orientation+"-hover")}).delegate(i,p,function(){a(this).addClass("k-state-hover")}).delegate(i,s,function(){a(this).removeClass("k-state-hover")}).delegate(".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",q,d._arrowClick(k)).delegate(".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",q,d._arrowClick(j)).delegate(".k-splitbar","dblclick",f(d._dbclick,d)).parent().closest(".k-splitter").each(function(){a(this).data("kendoSplitter").bind(m,r)}),a(window).resize(r),d.resizing=new A(d)},options:{orientation:n},_initPanes:function(){var b=this,c=b.options.panes||[];b.element.addClass("k-widget").addClass("k-splitter").children().addClass("k-pane").each(function(d,e){var f=c&&c[d];e=a(e),e.data(r,f?f:{}).toggleClass("k-scrollable",f?f.scrollable!==!1:!0),b.ajaxRequest(e)}).end(),b.trigger(m)},ajaxRequest:function(b,c,d){b=a(b);var e=this,f=b.data(r);c=c||f.contentUrl,c&&(b.append("<span class='k-icon k-loading k-pane-loading' />"),a.ajax({url:c,data:d||{},type:"GET",dataType:"html",success:function(a){b.html(a),e.trigger(l,{pane:b[0]})}}))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_dbclick:function(b){var c=this,d=a(b.target),e;if(d.closest(".k-splitter")[0]==c.element[0]){e=d.children(".k-icon:not(.k-resize-handle)");if(e.length!==1)return;e.is(".k-collapse-prev")?c._triggerAction(k,d.prev()):e.is(".k-collapse-next")?c._triggerAction(k,d.next()):e.is(".k-expand-prev")?c._triggerAction(j,d.prev()):e.is(".k-expand-next")&&c._triggerAction(j,d.next())}},_arrowClick:function(b){var c=this;return function(d){var e=a(d.target),f;e.closest(".k-splitter")[0]==c.element[0]&&(e.is(".k-"+b+"-prev")?f=e.parent().prev():f=e.parent().next(),c._triggerAction(b,f))}},_appendSplitBars:function(a){var b=a.length-1,c,d,e,f,g,h=function(a,b){return b?"<div class='k-icon "+a+"' />":""};for(f=0;f<b;f++){c=a.eq(f),d=c.data(r),e=c.next().data(r);if(!e)continue;g=d.resizable!==!1&&e.resizable!==!1,c.after("<div class='k-splitbar k-state-default k-splitbar-"+this.orientation+(g&&!d.collapsed&&!e.collapsed?" k-splitbar-draggable-"+this.orientation:"")+"'>"+h("k-collapse-prev",d.collapsible&&!d.collapsed)+h("k-expand-prev",d.collapsible&&d.collapsed)+h("k-resize-handle",g)+h("k-collapse-next",e.collapsible&&!e.collapsed)+h("k-expand-next",e.collapsible&&e.collapsed)+"</div>")}},_resize:function(){var b=this,c=b.element,d=c.children(":not(.k-splitbar)"),e=b.orientation==n,f=c.children(".k-splitbar"),g=f.length,h=e?"width":"height",i=c[h]();g===0&&(g=d.length-1,b._appendSplitBars(d),f=c.children(".k-splitbar")),f.each(function(){i-=this[e?"offsetWidth":"offsetHeight"]});var j=0,k=0,l=a();d.css({position:"absolute",top:0})[h](function(){var b=a(this).data(r)||{},c;if(b.collapsed)c=0;else{if(v(b.size)){l=l.add(this);return}c=parseInt(b.size,10),t(b.size)&&(c=Math.floor(c*i/100))}k++,j+=c;return c}),i-=j;var m=l.length,o=Math.floor(i/m);l.slice(0,m-1).css(h,o).end().eq(m-1).css(h,i-(m-1)*o);var p=0,q=e?"height":"width",s=e?"left":"top",u=e?"offsetWidth":"offsetHeight";c.children().css(q,c[q]()).each(function(a,b){b.style[s]=Math.floor(p)+"px",p+=b[u]})},toggle:function(c,d){var c=a(c),e=c.prev(".k-splitbar"),f=c.next(".k-splitbar"),g=e.add(f),h=c.data(r),i=c.prevAll(".k-pane:first").data(r),j=c.nextAll(".k-pane:first").data(r),k=this.orientation,l="k-splitbar-"+k+"-hover",n="k-splitbar-draggable-"+k;arguments.length==1&&(d=h.collapsed===b?!1:h.collapsed),e.toggleClass(n,d&&h.resizable!==!1&&(!i||i.resizable!==!1)).removeClass(l).find(d?".k-expand-next":".k-collapse-next").toggleClass("k-expand-next",!d).toggleClass("k-collapse-next",d),f.toggleClass(n,d&&h.resizable!==!1&&(!j||j.resizable!==!1)).removeClass(l).find(d?".k-expand-prev":".k-collapse-prev").toggleClass("k-expand-prev",!d).toggleClass("k-collapse-prev",d),h.collapsed=!d,this.trigger(m)},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},size:w("size",!0),min:w("min"),max:w("max")});d.plugin("Splitter",x);var y={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},z={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};A.prototype={_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,d=a(b.currentTarget),e=d.prev(),f=d.next(),g=e.data(r),h=f.data(r),i=parseInt(e[0].style[c.positioningProperty]),j=parseInt(f[0].style[c.positioningProperty])+f[0][c.sizingDomProperty]-d[0][c.sizingDomProperty],k=c._element.css(c.sizingProperty),l=function(a){var b=parseInt(a,10);return(u(a)?b:k*b/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(j-o,i+n),c._minPosition=Math.max(i+m,j-p)},_max:function(a){return this._maxPosition},_min:function(a){return this._minPosition},_stop:function(b){var d=this;if(b.keyCode!==c.keys.ESC){var e=b.position,f=a(b.currentTarget),g=f.prev(),h=f.next(),i=g.data(r),j=h.data(r),k=e-parseInt(g[0].style[d.positioningProperty]),l=parseInt(h[0].style[d.positioningProperty])+h[0][d.sizingDomProperty]-e-f[0][d.sizingDomProperty],n=d._element.children(".k-pane").filter(function(){return v(a(this).data(r).size)}).length;if(!v(i.size)||n>1)v(i.size)&&n--,i.size=k+"px";if(!v(j.size)||n>1)j.size=l+"px";d.owner.trigger(m)}return!1}}})(jQuery)